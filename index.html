<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dynamic Memory Book</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Lato:wght@300;400&display=swap');

  body {
    margin: 0;
    height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    background: linear-gradient(135deg, #d4c4f7, #a0c4ff);
    font-family: 'Lato', sans-serif;
    overflow: hidden;
  }

  .hint {
    font-family: 'Lato', sans-serif;
    font-weight: 300;
    font-size: 13px;
    color: rgba(255,255,255,0.75);
    letter-spacing: 0.12em;
    text-transform: uppercase;
    margin-bottom: 18px;
    user-select: none;
  }

  .book-wrapper {
    position: relative;
    width: 440px;
    height: 600px;
  }

  .cover {
    position: absolute; width: 100%; height: 100%;
    background: linear-gradient(145deg, #5e60ce, #3f37c9);
    border-radius: 12px;
    box-shadow: 0 20px 60px rgba(0,0,0,0.4), inset 0 0 30px rgba(255,255,255,0.15);
    z-index: -2;
  }

  .page-stack {
    position: absolute; right: -8px; top: 10px; width: 8px; height: 580px;
    background: linear-gradient(to right, #eaeaea, #cfcfcf);
    border-radius: 3px;
    box-shadow: inset 0 0 4px rgba(0,0,0,0.2);
    z-index: -1;
  }

  .book {
    width: 400px; height: 550px;
    position: absolute; top: 25px; left: 20px;
    perspective: 2500px;
  }

  .page {
    width: 100%; height: 100%;
    position: absolute; top: 0; left: 0;
    transform-origin: left center;
    transform-style: preserve-3d;
    transition: transform 1s ease;
    cursor: pointer;
  }

  .page::before {
    content: "";
    position: absolute; left: 0; top: 0; width: 20px; height: 100%;
    background: linear-gradient(to right, rgba(0,0,0,0.25), transparent);
    z-index: 5;
    pointer-events: none;
  }

  .page-content {
    position: absolute; width: 100%; height: 100%;
    backface-visibility: hidden;
    border-radius: 6px;
    overflow: hidden;
    box-shadow: 0 10px 30px rgba(0,0,0,0.25);
    background: white;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .front { flex-direction: column; padding: 15px; text-align: center; }
  .back  { transform: rotateY(180deg); }

  .page img {
    max-width: 100%; max-height: 100%;
    object-fit: contain;
    border-radius: 6px;
  }

  .intro-wrapper {
    display: flex; flex-direction: column;
    align-items: center; justify-content: flex-start;
    height: 100%; padding: 15px;
  }

  .intro-text {
    font-family: 'Playfair Display', serif;
    font-style: italic;
    font-size: 20px;
    margin-bottom: 10px;
    color: #444;
  }

  .intro-image {
    max-width: 100%; max-height: calc(100% - 60px);
    object-fit: contain;
    border-radius: 12px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.2);
    margin-top: 10px;
  }

  .page-num {
    position: absolute;
    bottom: 8px; right: 14px;
    font-size: 11px;
    color: rgba(0,0,0,0.25);
    font-family: 'Lato', sans-serif;
    font-weight: 300;
    letter-spacing: 0.08em;
  }
</style>
</head>
<body>
<div class="hint">Click pages to turn â†©</div>
<div class="book-wrapper">
  <div class="cover"></div>
  <div class="page-stack"></div>
  <div class="book" id="book"></div>
</div>

<script>
const photos = [
  "Photos/photo1.JPG",
  "Photos/IMG_0033.jpg",
  "Photos/IMG_0206.jpg",
  "Photos/IMG_0517.jpg",
  "Photos/IMG_0693.jpg",
  "Photos/IMG_0813.jpg",
  "Photos/IMG_1081.jpg",
  "Photos/IMG_1152.jpg",
  "Photos/IMG_1161.jpg",
  "Photos/IMG_1227.jpg",
  "Photos/IMG_1587.jpg",
  "Photos/IMG_1712.jpg",
  "Photos/IMG_1716.jpg",
  "Photos/IMG_1861.jpg",
  "Photos/IMG_2015.jpg",
  "Photos/IMG_2036.jpg",
  "Photos/IMG_2122.jpg",
  "Photos/IMG_2203.jpg",
  "Photos/IMG_2278.jpg",
  "Photos/IMG_2514.jpg",
  "Photos/IMG_2614.jpg",
  "Photos/IMG_2668.jpg",
  "Photos/IMG_2801.jpg",
  "Photos/IMG_2834.jpg",
  "Photos/IMG_3031.jpg",
  "Photos/IMG_3092.jpg",
  "Photos/IMG_3375.jpg",
  "Photos/IMG_3400.JPG",
  "Photos/IMG_3445.jpg",
  "Photos/IMG_3452.JPG",
  "Photos/IMG_3546.JPG",
  "Photos/IMG_3556.jpg",
  "Photos/IMG_3584.JPG",
  "Photos/IMG_3636.jpg",
  "Photos/IMG_3642.jpg",
  "Photos/IMG_3644.jpg",
  "Photos/IMG_3679.JPG",
  "Photos/IMG_3692.jpg",
  "Photos/IMG_3747.JPG",
  "Photos/IMG_3834.jpg",
  "Photos/IMG_3837.jpg",
  "Photos/IMG_3880.jpg",
  "Photos/IMG_3918.jpg",
  "Photos/IMG_3987.jpg",
  "Photos/IMG_3999.jpg",
  "Photos/IMG_4022.jpg"
];


const book = document.getElementById('book');

// Each page has: front = photos[i*2], back = photos[i*2+1]
// Flipping reveals the back photo, no repeats.
const pageCount = Math.ceil(photos.length / 2);

for (let i = 0; i < pageCount; i++) {
  const frontPhoto = photos[i * 2];
  const backPhoto  = photos[i * 2 + 1] || null;

  const page = document.createElement('div');
  page.className = 'page';

  // --- FRONT ---
  const front = document.createElement('div');
  front.className = 'page-content front';

  if (i === 0) {
    const wrapper = document.createElement('div');
    wrapper.className = 'intro-wrapper';
    const text = document.createElement('div');
    text.className = 'intro-text';
    text.innerText = 'The beginning of no end ðŸ’›';
    const img = document.createElement('img');
    img.src = frontPhoto;
    img.className = 'intro-image';
    wrapper.appendChild(text);
    wrapper.appendChild(img);
    front.appendChild(wrapper);
  } else {
    const img = document.createElement('img');
    img.src = frontPhoto;
    front.appendChild(img);
  }

  const pn = document.createElement('div');
  pn.className = 'page-num';
  pn.textContent = i * 2 + 1;
  front.appendChild(pn);

  // --- BACK ---
  const back = document.createElement('div');
  back.className = 'page-content back';

  if (backPhoto) {
    const backImg = document.createElement('img');
    backImg.src = backPhoto;
    back.appendChild(backImg);

    const pn2 = document.createElement('div');
    pn2.className = 'page-num';
    pn2.textContent = i * 2 + 2;
    back.appendChild(pn2);
  }

  page.appendChild(front);
  page.appendChild(back);
  book.appendChild(page);
}

const pages = document.querySelectorAll('.page');
let currentPage = 0;
const totalPages = pages.length;
pages.forEach((page, index) => page.style.zIndex = totalPages - index);
pages.forEach((page, index) => {
  page.addEventListener('click', () => {
    if (index === currentPage) {
      page.style.zIndex = totalPages + 1;
      page.style.transform = 'rotateY(-180deg)';
      setTimeout(() => page.style.zIndex = index, 1000);
      currentPage++;
    } else if (index === currentPage - 1) {
      page.style.zIndex = totalPages + 1;
      page.style.transform = 'rotateY(0deg)';
      setTimeout(() => page.style.zIndex = totalPages - index, 1000);
      currentPage--;
    }
  });
});
</script>
</body>
</html>